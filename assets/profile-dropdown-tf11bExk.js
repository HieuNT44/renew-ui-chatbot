import{r as l,j as n,w as I,x as R,c as j,u as k,y as $,B as O}from"./index-CZVU0qtJ.js";import{a7 as B,a5 as S,D as F,e as T,f as z,g as H,h as A,a8 as q,i as x,m as v}from"./dropdown-menu-CqWC4q07.js";import{C as G}from"./confirm-dialog-Dx1t64YG.js";function K(e=null){const[t,r]=l.useState(e);return[t,s=>r(a=>a===s?null:s)]}function Q(e,t=[]){let r=[];function o(a,c){const i=l.createContext(c);i.displayName=a+"Context";const u=r.length;r=[...r,c];const d=f=>{const{scope:g,children:h,...p}=f,_=g?.[e]?.[u]||i,D=l.useMemo(()=>p,Object.values(p));return n.jsx(_.Provider,{value:D,children:h})};d.displayName=a+"Provider";function m(f,g){const h=g?.[e]?.[u]||i,p=l.useContext(h);if(p)return p;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,m]}const s=()=>{const a=r.map(c=>l.createContext(c));return function(i){const u=i?.[e]||a;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return s.scopeName=e,[o,V(s,...t)]}function V(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=o.reduce((i,{useScope:u,scopeName:d})=>{const f=u(a)[`__scope${d}`];return{...i,...f}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w=W.reduce((e,t)=>{const r=I(`Primitive.${t}`),o=l.forwardRef((s,a)=>{const{asChild:c,...i}=s,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...i,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),Y=R();function J(){return Y.useSyncExternalStore(U,()=>!0,()=>!1)}function U(){return()=>{}}var C="Avatar",[X]=Q(C),[Z,b]=X(C),L=l.forwardRef((e,t)=>{const{__scopeAvatar:r,...o}=e,[s,a]=l.useState("idle");return n.jsx(Z,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:n.jsx(w.span,{...o,ref:t})})});L.displayName=C;var y="AvatarImage",E=l.forwardRef((e,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:s=()=>{},...a}=e,c=b(y,r),i=ee(o,a),u=B(d=>{s(d),c.onImageLoadingStatusChange(d)});return S(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?n.jsx(w.img,{...a,ref:t,src:o}):null});E.displayName=y;var M="AvatarFallback",P=l.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:o,...s}=e,a=b(M,r),[c,i]=l.useState(o===void 0);return l.useEffect(()=>{if(o!==void 0){const u=window.setTimeout(()=>i(!0),o);return()=>window.clearTimeout(u)}},[o]),c&&a.imageLoadingStatus!=="loaded"?n.jsx(w.span,{...s,ref:t}):null});P.displayName=M;function N(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ee(e,{referrerPolicy:t,crossOrigin:r}){const o=J(),s=l.useRef(null),a=o?(s.current||(s.current=new window.Image),s.current):null,[c,i]=l.useState(()=>N(a,e));return S(()=>{i(N(a,e))},[a,e]),S(()=>{const u=f=>()=>{i(f)};if(!a)return;const d=u("loaded"),m=u("error");return a.addEventListener("load",d),a.addEventListener("error",m),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",m)}},[a,r,t]),c}var te=L,ne=E,ae=P;function re({className:e,...t}){return n.jsx(te,{"data-slot":"avatar",className:j("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function se({className:e,...t}){return n.jsx(ne,{"data-slot":"avatar-image",className:j("aspect-square size-full",e),...t})}function oe({className:e,...t}){return n.jsx(ae,{"data-slot":"avatar-fallback",className:j("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function ie({open:e,onOpenChange:t}){const r=k(),{auth:o}=$(),s=()=>{o.reset(),r({to:"/chatbox/project",replace:!0})};return n.jsx(G,{open:e,onOpenChange:t,title:"Sign out",desc:"Are you sure you want to sign out? You will need to sign in again to access your account.",confirmText:"Sign out",destructive:!0,handleConfirm:s,className:"sm:max-w-sm"})}function de(){const[e,t]=K();return n.jsxs(n.Fragment,{children:[n.jsxs(F,{modal:!1,children:[n.jsx(T,{asChild:!0,children:n.jsx(O,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:n.jsxs(re,{className:"h-8 w-8",children:[n.jsx(se,{src:"/avatars/01.png",alt:"@shadcn"}),n.jsx(oe,{children:"SN"})]})})}),n.jsxs(z,{className:"w-56",align:"end",forceMount:!0,children:[n.jsx(H,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col gap-1.5",children:[n.jsx("p",{className:"text-sm leading-none font-medium",children:"satnaing"}),n.jsx("p",{className:"text-muted-foreground text-xs leading-none",children:"satnaingdev@gmail.com"})]})}),n.jsx(A,{}),n.jsxs(q,{children:[n.jsxs(x,{disabled:!0,children:["Profile",n.jsx(v,{children:"⇧⌘P"})]}),n.jsxs(x,{disabled:!0,children:["Billing",n.jsx(v,{children:"⌘B"})]}),n.jsxs(x,{disabled:!0,children:["Settings",n.jsx(v,{children:"⌘S"})]}),n.jsx(x,{disabled:!0,children:"New Team"})]}),n.jsx(A,{}),n.jsxs(x,{variant:"destructive",onClick:()=>t(!0),children:["Sign out",n.jsx(v,{className:"text-current",children:"⇧⌘Q"})]})]})]}),n.jsx(ie,{open:!!e,onOpenChange:t})]})}export{de as P};
