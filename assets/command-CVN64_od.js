import{r as a,m as q,j as g,c as I}from"./index-CZVU0qtJ.js";import{I as K,C as _,Z as ve,_ as he,$ as xe,a0 as be,a1 as Re,a2 as _e,a3 as De,X as Ne}from"./dropdown-menu-CqWC4q07.js";import{S as Ae}from"./search-Bw2CqT7n.js";var fe=1,$e=.9,Me=.8,ze=.17,ee=.1,te=.999,Fe=.9999,Ke=.99,Pe=/[\\\/_+.#"@\[\(\{&]/,Le=/[\\\/_+.#"@\[\(\{&]/g,qe=/[\s-]/,ke=/[\s-]/g;function ne(e,r,n,s,o,u,c){if(u===r.length)return o===e.length?fe:Ke;var f=`${o},${u}`;if(c[f]!==void 0)return c[f];for(var b=s.charAt(u),i=n.indexOf(b,o),v=0,h,S,w,j;i>=0;)h=ne(e,r,n,s,i+1,u+1,c),h>v&&(i===o?h*=fe:Pe.test(e.charAt(i-1))?(h*=Me,w=e.slice(o,i-1).match(Le),w&&o>0&&(h*=Math.pow(te,w.length))):qe.test(e.charAt(i-1))?(h*=$e,j=e.slice(o,i-1).match(ke),j&&o>0&&(h*=Math.pow(te,j.length))):(h*=ze,o>0&&(h*=Math.pow(te,i-o))),e.charAt(i)!==r.charAt(u)&&(h*=Fe)),(h<ee&&n.charAt(i-1)===s.charAt(u+1)||s.charAt(u+1)===s.charAt(u)&&n.charAt(i-1)!==s.charAt(u))&&(S=ne(e,r,n,s,i+1,u+2,c),S*ee>h&&(h=S*ee)),h>v&&(v=h),i=n.indexOf(b,i+1);return c[f]=v,v}function pe(e){return e.toLowerCase().replace(ke," ")}function Ve(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,ne(e,r,pe(e),pe(r),0,0,{})}var L='[cmdk-group=""]',re='[cmdk-group-items=""]',Oe='[cmdk-group-heading=""]',ye='[cmdk-item=""]',ge=`${ye}:not([aria-disabled="true"])`,ae="cmdk-item-select",z="data-value",Be=(e,r,n)=>Ve(e,r,n),we=a.createContext(void 0),V=()=>a.useContext(we),Ee=a.createContext(void 0),le=()=>a.useContext(Ee),Ce=a.createContext(void 0),Se=a.forwardRef((e,r)=>{let n=F(()=>{var t,d;return{search:"",value:(d=(t=e.value)!=null?t:e.defaultValue)!=null?d:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=F(()=>new Set),o=F(()=>new Map),u=F(()=>new Map),c=F(()=>new Set),f=Ie(e),{label:b,children:i,value:v,onValueChange:h,filter:S,shouldFilter:w,loop:j,disablePointerSelection:G=!1,vimBindings:D=!0,...O}=e,H=K(),oe=K(),U=K(),N=a.useRef(null),k=et();A(()=>{if(v!==void 0){let t=v.trim();n.current.value=t,E.emit()}},[v]),A(()=>{k(6,ue)},[]);let E=a.useMemo(()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>n.current,setState:(t,d,m)=>{var l,p,x,C;if(!Object.is(n.current[t],d)){if(n.current[t]=d,t==="search")Y(),W(),k(1,J);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let y=document.getElementById(U);y?y.focus():(l=document.getElementById(H))==null||l.focus()}if(k(7,()=>{var y;n.current.selectedItemId=(y=M())==null?void 0:y.id,E.emit()}),m||k(5,ue),((p=f.current)==null?void 0:p.value)!==void 0){let y=d??"";(C=(x=f.current).onValueChange)==null||C.call(x,y);return}}E.emit()}},emit:()=>{c.current.forEach(t=>t())}}),[]),X=a.useMemo(()=>({value:(t,d,m)=>{var l;d!==((l=u.current.get(t))==null?void 0:l.value)&&(u.current.set(t,{value:d,keywords:m}),n.current.filtered.items.set(t,ie(d,m)),k(2,()=>{W(),E.emit()}))},item:(t,d)=>(s.current.add(t),d&&(o.current.has(d)?o.current.get(d).add(t):o.current.set(d,new Set([t]))),k(3,()=>{Y(),W(),n.current.value||J(),E.emit()}),()=>{u.current.delete(t),s.current.delete(t),n.current.filtered.items.delete(t);let m=M();k(4,()=>{Y(),m?.getAttribute("id")===t&&J(),E.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{u.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:H,inputId:U,labelId:oe,listInnerRef:N}),[]);function ie(t,d){var m,l;let p=(l=(m=f.current)==null?void 0:m.filter)!=null?l:Be;return t?p(t,n.current.search,d):0}function W(){if(!n.current.search||f.current.shouldFilter===!1)return;let t=n.current.filtered.items,d=[];n.current.filtered.groups.forEach(l=>{let p=o.current.get(l),x=0;p.forEach(C=>{let y=t.get(C);x=Math.max(y,x)}),d.push([l,x])});let m=N.current;P().sort((l,p)=>{var x,C;let y=l.getAttribute("id"),B=p.getAttribute("id");return((x=t.get(B))!=null?x:0)-((C=t.get(y))!=null?C:0)}).forEach(l=>{let p=l.closest(re);p?p.appendChild(l.parentElement===p?l:l.closest(`${re} > *`)):m.appendChild(l.parentElement===m?l:l.closest(`${re} > *`))}),d.sort((l,p)=>p[1]-l[1]).forEach(l=>{var p;let x=(p=N.current)==null?void 0:p.querySelector(`${L}[${z}="${encodeURIComponent(l[0])}"]`);x?.parentElement.appendChild(x)})}function J(){let t=P().find(m=>m.getAttribute("aria-disabled")!=="true"),d=t?.getAttribute(z);E.setState("value",d||void 0)}function Y(){var t,d,m,l;if(!n.current.search||f.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let p=0;for(let x of s.current){let C=(d=(t=u.current.get(x))==null?void 0:t.value)!=null?d:"",y=(l=(m=u.current.get(x))==null?void 0:m.keywords)!=null?l:[],B=ie(C,y);n.current.filtered.items.set(x,B),B>0&&p++}for(let[x,C]of o.current)for(let y of C)if(n.current.filtered.items.get(y)>0){n.current.filtered.groups.add(x);break}n.current.filtered.count=p}function ue(){var t,d,m;let l=M();l&&(((t=l.parentElement)==null?void 0:t.firstChild)===l&&((m=(d=l.closest(L))==null?void 0:d.querySelector(Oe))==null||m.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function M(){var t;return(t=N.current)==null?void 0:t.querySelector(`${ye}[aria-selected="true"]`)}function P(){var t;return Array.from(((t=N.current)==null?void 0:t.querySelectorAll(ge))||[])}function Z(t){let d=P()[t];d&&E.setState("value",d.getAttribute(z))}function Q(t){var d;let m=M(),l=P(),p=l.findIndex(C=>C===m),x=l[p+t];(d=f.current)!=null&&d.loop&&(x=p+t<0?l[l.length-1]:p+t===l.length?l[0]:l[p+t]),x&&E.setState("value",x.getAttribute(z))}function de(t){let d=M(),m=d?.closest(L),l;for(;m&&!l;)m=t>0?Ze(m,L):Qe(m,L),l=m?.querySelector(ge);l?E.setState("value",l.getAttribute(z)):Q(t)}let se=()=>Z(P().length-1),ce=t=>{t.preventDefault(),t.metaKey?se():t.altKey?de(1):Q(1)},me=t=>{t.preventDefault(),t.metaKey?Z(0):t.altKey?de(-1):Q(-1)};return a.createElement(_.div,{ref:r,tabIndex:-1,...O,"cmdk-root":"",onKeyDown:t=>{var d;(d=O.onKeyDown)==null||d.call(O,t);let m=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||m))switch(t.key){case"n":case"j":{D&&t.ctrlKey&&ce(t);break}case"ArrowDown":{ce(t);break}case"p":case"k":{D&&t.ctrlKey&&me(t);break}case"ArrowUp":{me(t);break}case"Home":{t.preventDefault(),Z(0);break}case"End":{t.preventDefault(),se();break}case"Enter":{t.preventDefault();let l=M();if(l){let p=new Event(ae);l.dispatchEvent(p)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:X.inputId,id:X.labelId,style:rt},b),T(e,t=>a.createElement(Ee.Provider,{value:E},a.createElement(we.Provider,{value:X},t))))}),Te=a.forwardRef((e,r)=>{var n,s;let o=K(),u=a.useRef(null),c=a.useContext(Ce),f=V(),b=Ie(e),i=(s=(n=b.current)==null?void 0:n.forceMount)!=null?s:c?.forceMount;A(()=>{if(!i)return f.item(o,c?.id)},[i]);let v=je(o,u,[e.value,e.children,u],e.keywords),h=le(),S=R(k=>k.value&&k.value===v.current),w=R(k=>i||f.filter()===!1?!0:k.search?k.filtered.items.get(o)>0:!0);a.useEffect(()=>{let k=u.current;if(!(!k||e.disabled))return k.addEventListener(ae,j),()=>k.removeEventListener(ae,j)},[w,e.onSelect,e.disabled]);function j(){var k,E;G(),(E=(k=b.current).onSelect)==null||E.call(k,v.current)}function G(){h.setState("value",v.current,!0)}if(!w)return null;let{disabled:D,value:O,onSelect:H,forceMount:oe,keywords:U,...N}=e;return a.createElement(_.div,{ref:q(u,r),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!D,"aria-selected":!!S,"data-disabled":!!D,"data-selected":!!S,onPointerMove:D||f.getDisablePointerSelection()?void 0:G,onClick:D?void 0:j},e.children)}),Ge=a.forwardRef((e,r)=>{let{heading:n,children:s,forceMount:o,...u}=e,c=K(),f=a.useRef(null),b=a.useRef(null),i=K(),v=V(),h=R(w=>o||v.filter()===!1?!0:w.search?w.filtered.groups.has(c):!0);A(()=>v.group(c),[]),je(c,f,[e.value,e.heading,b]);let S=a.useMemo(()=>({id:c,forceMount:o}),[o]);return a.createElement(_.div,{ref:q(f,r),...u,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&a.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:i},n),T(e,w=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?i:void 0},a.createElement(Ce.Provider,{value:S},w))))}),He=a.forwardRef((e,r)=>{let{alwaysRender:n,...s}=e,o=a.useRef(null),u=R(c=>!c.search);return!n&&!u?null:a.createElement(_.div,{ref:q(o,r),...s,"cmdk-separator":"",role:"separator"})}),Ue=a.forwardRef((e,r)=>{let{onValueChange:n,...s}=e,o=e.value!=null,u=le(),c=R(i=>i.search),f=R(i=>i.selectedItemId),b=V();return a.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),a.createElement(_.input,{ref:r,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:c,onChange:i=>{o||u.setState("search",i.target.value),n?.(i.target.value)}})}),Xe=a.forwardRef((e,r)=>{let{children:n,label:s="Suggestions",...o}=e,u=a.useRef(null),c=a.useRef(null),f=R(i=>i.selectedItemId),b=V();return a.useEffect(()=>{if(c.current&&u.current){let i=c.current,v=u.current,h,S=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let w=i.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return S.observe(i),()=>{cancelAnimationFrame(h),S.unobserve(i)}}},[]),a.createElement(_.div,{ref:q(u,r),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":s,id:b.listId},T(e,i=>a.createElement("div",{ref:q(c,b.listInnerRef),"cmdk-list-sizer":""},i)))}),We=a.forwardRef((e,r)=>{let{open:n,onOpenChange:s,overlayClassName:o,contentClassName:u,container:c,...f}=e;return a.createElement(ve,{open:n,onOpenChange:s},a.createElement(he,{container:c},a.createElement(xe,{"cmdk-overlay":"",className:o}),a.createElement(be,{"aria-label":e.label,"cmdk-dialog":"",className:u},a.createElement(Se,{ref:r,...f}))))}),Je=a.forwardRef((e,r)=>R(n=>n.filtered.count===0)?a.createElement(_.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Ye=a.forwardRef((e,r)=>{let{progress:n,children:s,label:o="Loading...",...u}=e;return a.createElement(_.div,{ref:r,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},T(e,c=>a.createElement("div",{"aria-hidden":!0},c)))}),$=Object.assign(Se,{List:Xe,Item:Te,Input:Ue,Group:Ge,Separator:He,Dialog:We,Empty:Je,Loading:Ye});function Ze(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function Qe(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function Ie(e){let r=a.useRef(e);return A(()=>{r.current=e}),r}var A=typeof window>"u"?a.useEffect:a.useLayoutEffect;function F(e){let r=a.useRef();return r.current===void 0&&(r.current=e()),r}function R(e){let r=le(),n=()=>e(r.snapshot());return a.useSyncExternalStore(r.subscribe,n,n)}function je(e,r,n,s=[]){let o=a.useRef(),u=V();return A(()=>{var c;let f=(()=>{var i;for(let v of n){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(i=v.current.textContent)==null?void 0:i.trim():o.current}})(),b=s.map(i=>i.trim());u.value(e,f,b),(c=r.current)==null||c.setAttribute(z,f),o.current=f}),o}var et=()=>{let[e,r]=a.useState(),n=F(()=>new Map);return A(()=>{n.current.forEach(s=>s()),n.current=new Map},[e]),(s,o)=>{n.current.set(s,o),r({})}};function tt(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function T({asChild:e,children:r},n){return e&&a.isValidElement(r)?a.cloneElement(tt(r),{ref:r.ref},n(r.props.children)):n(r)}var rt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function nt({...e}){return g.jsx(ve,{"data-slot":"dialog",...e})}function at({...e}){return g.jsx(he,{"data-slot":"dialog-portal",...e})}function lt({className:e,...r}){return g.jsx(xe,{"data-slot":"dialog-overlay",className:I("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function ot({className:e,children:r,showCloseButton:n=!0,...s}){return g.jsxs(at,{"data-slot":"dialog-portal",children:[g.jsx(lt,{}),g.jsxs(be,{"data-slot":"dialog-content",className:I("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[r,n&&g.jsxs(De,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute end-4 top-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(Ne,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function it({className:e,...r}){return g.jsx("div",{"data-slot":"dialog-header",className:I("flex flex-col gap-2 text-center sm:text-start",e),...r})}function ut({className:e,...r}){return g.jsx(Re,{"data-slot":"dialog-title",className:I("text-lg leading-none font-semibold",e),...r})}function dt({className:e,...r}){return g.jsx(_e,{"data-slot":"dialog-description",className:I("text-muted-foreground text-sm",e),...r})}function st({className:e,...r}){return g.jsx($,{"data-slot":"command",className:I("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function pt({title:e="Command Palette",description:r="Search for a command to run...",children:n,className:s,showCloseButton:o=!0,...u}){return g.jsxs(nt,{...u,children:[g.jsxs(it,{className:"sr-only",children:[g.jsx(ut,{children:e}),g.jsx(dt,{children:r})]}),g.jsx(ot,{className:I("overflow-hidden p-0",s),showCloseButton:o,children:g.jsx(st,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})})]})}function gt({className:e,...r}){return g.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[g.jsx(Ae,{className:"size-4 shrink-0 opacity-50"}),g.jsx($.Input,{"data-slot":"command-input",className:I("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function vt({className:e,...r}){return g.jsx($.List,{"data-slot":"command-list",className:I("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function ht({...e}){return g.jsx($.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function xt({className:e,...r}){return g.jsx($.Group,{"data-slot":"command-group",className:I("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function bt({className:e,...r}){return g.jsx($.Separator,{"data-slot":"command-separator",className:I("bg-border -mx-1 h-px",e),...r})}function kt({className:e,...r}){return g.jsx($.Item,{"data-slot":"command-item",className:I("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}export{pt as C,gt as a,vt as b,ht as c,xt as d,kt as e,bt as f,st as g};
